<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Recommended Services</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    body {
      background-color: #f4f6f8;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    .container {
      margin-top: 40px;
    }

    .card {
      margin-bottom: 20px;
      border-left: 5px solid #007bff;
      box-shadow: 0 0 10px rgba(0,0,0,0.05);
    }

    .section-title {
      margin-top: 30px;
      margin-bottom: 20px;
      border-bottom: 2px solid #007bff;
      display: inline-block;
      padding-bottom: 5px;
      font-size: 1.5rem;
    }

    .back-btn {
      margin-top: 30px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1 class="text-center mb-4">üéØ Recommended Services</h1>
    <p class="text-center text-muted">Based on your inputs, here‚Äôs what we suggest:</p>

    {% if schemes %}
      <h2 class="section-title">Government Schemes</h2>
      {% for scheme in schemes %}
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">{{ scheme.name }}</h5>
            <p class="card-text">
              <strong>Gender:</strong> {{ scheme.gender | capitalize }}<br>
              <strong>Age Range:</strong> {{ scheme.min_age }} - {{ scheme.max_age }}<br>
              <strong>Category:</strong> {{ scheme.category | capitalize }}
            </p>
          </div>
        </div>
      {% endfor %}
    {% endif %}

    {% if exams %}
      <h2 class="section-title">Government Exams</h2>
      {% for exam in exams %}
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">{{ exam.name }}</h5>
            <p class="card-text">
              <strong>Age Range:</strong> {{ exam.min_age }} - {{ exam.max_age }}<br>
              <strong>Qualification:</strong> {{ exam.qualification | capitalize }}
            </p>
          </div>
        </div>
      {% endfor %}
    {% endif %}

    <div class="text-center back-btn">
      <a href="/" class="btn btn-secondary">‚Üê Go Back</a>
    </div>
  </div>
</body>
</html>
 -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Recommendations</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="/static/style.css" rel="stylesheet">
  <style>
    .search-filter {
      margin-bottom: 20px;
    }
  </style>
</head>
<body class="bg-light">
  <div class="container py-5">
    <div class="text-center mb-5">
      <h1 class="fw-bold text-primary">üéØ Your Recommendations</h1>
      <p class="text-muted">Based on your inputs, here‚Äôs what suits you best.</p>
    </div>

    <!-- üîç Search & Filter -->
    <div class="row search-filter">
      <div class="col-md-6 mb-3">
        <input type="text" id="searchBox" class="form-control" placeholder="üîç Search by name...">
      </div>
      <div class="col-md-6 mb-3">
        <select id="categoryFilter" class="form-select">
          <option value="">Filter by category (Schemes)</option>
          <option value="student">Student</option>
          <option value="farmer">Farmer</option>
          <option value="household">Household</option>
          <option value="senior">Senior</option>
          <option value="entrepreneur">Entrepreneur</option>
        </select>
      </div>
    </div>

    <!-- Schemes -->
    <h3 class="mb-3 text-success">Government Schemes</h3>
    <div class="row" id="schemesList">
      {% if schemes %}
        {% for scheme in schemes %}
        <div class="col-md-6 mb-4 scheme-card" data-category="{{ scheme.category }}">
          <div class="card shadow-sm h-100">
            <div class="card-body">
              <h5 class="card-title">{{ scheme.name }}</h5>
              <p class="card-text">
                <strong>Category:</strong> {{ scheme.category }} <br>
                <strong>Age Range:</strong> {{ scheme.min_age }} - {{ scheme.max_age }} <br>
                <strong>For:</strong> {{ scheme.gender|capitalize }}
              </p>
            </div>
          </div>
        </div>
        {% endfor %}
      {% else %}
        <p class="text-muted">No eligible schemes found.</p>
      {% endif %}
    </div>

    <!-- Exams -->
    <h3 class="mt-5 mb-3 text-info">Government Exams</h3>
    <div class="row" id="examsList">
      {% if exams %}
        {% for exam in exams %}
        <div class="col-md-6 mb-4 exam-card">
          <div class="card shadow-sm h-100">
            <div class="card-body">
              <h5 class="card-title">{{ exam.name }}</h5>
              <p class="card-text">
                <strong>Qualification:</strong> {{ exam.qualification }} <br>
                <strong>Age Range:</strong> {{ exam.min_age }} - {{ exam.max_age }}
              </p>
            </div>
          </div>
        </div>
        {% endfor %}
      {% else %}
        <p class="text-muted">No eligible exams found.</p>
      {% endif %}
    </div>

    <div class="text-center mt-5">
      <a href="/" class="btn btn-outline-primary">üîÅ Try Again</a>
    </div>
  </div>

  <!-- JS Filtering -->
  <script>
    const searchBox = document.getElementById("searchBox");
    const categoryFilter = document.getElementById("categoryFilter");

    searchBox.addEventListener("input", filterResults);
    categoryFilter.addEventListener("change", filterResults);

    function filterResults() {
      const searchText = searchBox.value.toLowerCase();
      const selectedCategory = categoryFilter.value;

      // Filter schemes
      document.querySelectorAll(".scheme-card").forEach(card => {
        const title = card.querySelector(".card-title").innerText.toLowerCase();
        const category = card.dataset.category;
        if ((title.includes(searchText) || searchText === "") &&
            (selectedCategory === "" || category === selectedCategory)) {
          card.style.display = "block";
        } else {
          card.style.display = "none";
        }
      });

      // Filter exams
      document.querySelectorAll(".exam-card").forEach(card => {
        const title = card.querySelector(".card-title").innerText.toLowerCase();
        if (title.includes(searchText) || searchText === "") {
          card.style.display = "block";
        } else {
          card.style.display = "none";
        }
      });
    }
  </script>
</body>
</html>
